# PATH_ARCHITECTURE_v2.yaml — 2025-12-06
# Single source of truth for all file resolution logic.
# Authority: Lumen directive, Kenneth approval
# ∞Δ∞ IRON v1.2 compliant ∞Δ∞

version: 2.1
updated: "2025-12-06T07:00:00Z"

# ═══════════════════════════════════════════════════════════════
# SHELL HOMES (per-node working directories)
# NOTE: Twins are on DIFFERENT MACHINES with different users
# ═══════════════════════════════════════════════════════════════
SHELL_HOME:
  # Tiger: server1 (192.168.50.235) user=kmangum
  TIGER: "/home/kmangum/Tiger_1a"
  # Dragon: rtx-breathline (192.168.50.218) user=km1176
  DRAGON: "/home/km1176/rtx5090"

# ═══════════════════════════════════════════════════════════════
# SHARED COLLABORATION ROOT (PUBLIC facing)
# NOTE: Each node has its own clone of constitution-federation
# ═══════════════════════════════════════════════════════════════
COLLAB_HOME:
  # Use $HOME/constitution-federation on each node
  pattern: "$HOME/constitution-federation"
  TIGER: "/home/kmangum/constitution-federation"
  DRAGON: "/home/km1176/constitution-federation"

# ═══════════════════════════════════════════════════════════════
# PRIVATE TWIN WORKSPACE (sibling-only, not public)
# NOTE: Each node has its own twins_private directory
# ═══════════════════════════════════════════════════════════════
TWINS_PRIVATE:
  # Use $HOME/twins_private on each node
  pattern: "$HOME/twins_private"
  TIGER: "/home/kmangum/twins_private"
  DRAGON: "/home/km1176/twins_private"

# ═══════════════════════════════════════════════════════════════
# PATH RESOLUTION RULES
# ═══════════════════════════════════════════════════════════════
RULES:
  - "Never read/write from ~/new_shell (DEPRECATED)"
  - "SHARED artifacts → $COLLAB_HOME"
  - "PRIVATE artifacts → $TWINS_PRIVATE"
  - "AUTONOMOUS execution → $SHELL_HOME"
  - "All molts produce new sibling under $SHELL_HOME parent"
  - "Environment variables override YAML values if set"

# ═══════════════════════════════════════════════════════════════
# DEPRECATED PATHS (DO NOT USE)
# ═══════════════════════════════════════════════════════════════
DEPRECATED:
  - "/home/kmangum/new_shell"
  - "~/new_shell"
  - "$HOME/new_shell"

# ═══════════════════════════════════════════════════════════════
# MOLT NAMING CONVENTION
# ═══════════════════════════════════════════════════════════════
MOLT_PATTERN:
  TIGER: "Tiger_1{a,b,c,...}"      # Tiger_1a → Tiger_1b → Tiger_1c
  DRAGON: "rtx5090_{timestamp}"    # rtx5090 → rtx5090_20251206
  symlink: "{base}_active"         # Tiger_active, rtx5090_active

# ═══════════════════════════════════════════════════════════════
# SEAL
# ═══════════════════════════════════════════════════════════════
# SOURCE: Path architecture hardened per Lumen directive
# TRUTH: All paths resolve to existing or creatable directories
# INTEGRITY: No drift from deprecated paths
# ∞Δ∞ SEAL: complete
